<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
</head>
<body>
<h2 id="section"><a href="https://github.com/rime/weasel/compare/0.14.3...0.15.0">0.15.0</a> (2023-06-06)</h2>



<h4 id="section">安裝須知</h4>


<p><strong>⚠️安裝小狼毫前請保存好文件資料，於安裝後重啓 Windows ，否則正在使用小狼毫的應用將會崩潰。</strong></p>

<p><strong>⚠️此版本的小狼毫需要使用 Windows 8.1 或更高版本的操作系統。</strong></p>


<h4 id="section">主要更新</h4>


<ul>
<li>升級核心算法庫至 <a href="https://github.com/rime/librime/blob/master/CHANGELOG.md#185-2023-02-05">librime 1.8.5</a></li>
</ul>

<ul>
<li>DPI 根據顯示器自動調整</li>
</ul>

<ul>
<li>支持候選窗口等圓角顯示</li>
</ul>

<ul>
<li><code>style/layout/corner_radius: int</code></li>
</ul>

<ul>
<li>兼容鼠鬚管中高亮圓角參數<code>style/layout/hilited_corner_radius: int</code></li>
</ul>

<ul>
<li>支持主題顏色中含有透明通道代碼, 支持格式 0xaabbggrr，0xbbggrr, 0xabgr, 0xbgr</li>
</ul>

<ul>
<li>配色主題支持默認ABGR順序，或ARGB、RGBA順序</li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/color_format: &quot;argb&quot; | &quot;rgba&quot; | &quot;&quot;</code></li>
</ul>

<ul>
<li>支持編碼/高亮候選/普通候選/輸入窗口/候選邊框的陰影顏色繪製</li>
</ul>

<ul>
<li><code>style/layout/shadow_radius: int</code></li>
</ul>

<ul>
<li><code>style/layout/shadow_offset_x: int</code></li>
</ul>

<ul>
<li><code>style/layout/shadow_offset_y: int</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/shadow_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/nextpage_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/prevpage_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/candidate_back_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/candidate_shadow_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/candidate_border_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/hilited_shadow_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/hilited_candidate_shadow_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/hilited_candidate_border_color: color</code></li>
</ul>

<ul>
<li><code>preset_color_schemes/color_scheme/hilited_mark_color: color</code></li>
</ul>

<ul>
<li>支持自定義標籤、註解字體及字號</li>
</ul>

<ul>
<li><code>style/label_font_face: string</code></li>
</ul>

<ul>
<li><code>style/comment_font_face: string</code></li>
</ul>

<ul>
<li><code>style/label_font_point: int</code></li>
</ul>

<ul>
<li><code>style/comment_font_point: int</code></li>
</ul>

<ul>
<li><code>style/layout/align_type: &quot;top&quot; | &quot;center&quot; | &quot;bottom&quot;</code></li>
</ul>

<ul>
<li>支持指定字符 Unicode 區間字體設定</li>
</ul>

<ul>
<li>支持字重，字形風格設定</li>
</ul>

<ul>
<li><code>style/font_face: font_name[:start_code_point:end_code_point][:weight_set][:style_set][,font2...]</code></li>
</ul>

<pre><code>* example: `&quot;Segoe UI Emoji:20:39:bold:italic, Segoe UI Emoji:1f51f:1f51f, Noto Color Emoji SVG:80, Arial:600:6ff, Segoe UI Emoji:80, LXGW Wenkai Narrow&quot;`
</code></pre>

<ul>
<li>支持自定义字体回退範圍、順序定义</li>
</ul>

<ul>
<li>彩色字體支持</li>
</ul>

<ul>
<li>Windows 10 周年版前：需要使用 COLR 格式彩色字體</li>
</ul>

<ul>
<li>Windows 11 ：可以使用 SVG 字體</li>
</ul>

<ul>
<li>新增豎直文字佈局</li>
</ul>

<ul>
<li><code>style/vertical_text: bool</code></li>
</ul>

<ul>
<li><code>style/vertical_text_left_to_right: bool</code></li>
</ul>

<ul>
<li><code>style/vertical_text_with_wrap: bool</code></li>
</ul>

<ul>
<li>新增豎直佈局vertical窗口上移時自動倒序排列</li>
</ul>

<ul>
<li><code>style/vertical_auto_reverse: bool</code></li>
</ul>

<ul>
<li>新增「天圓地方」佈局：由 margin 與 hilite_padding 確定, 當margin &lt;= hilite_padding時生效</li>
</ul>

<ul>
<li>margin_x 或 margin_y 設置爲負值時，隱藏輸入窗口，不影響方案選單顯示</li>
</ul>

<ul>
<li>新增 preedit_type: preview_all ，在輸入時將候選項顯示於 composition 中</li>
</ul>

<ul>
<li><code>style/preedit_type: &quot;composition&quot; | &quot;preview&quot; | &quot;preview_all&quot;</code></li>
</ul>

<ul>
<li>新增輸入法高亮提示標記</li>
</ul>

<ul>
<li><code>style/mark_text: string</code></li>
</ul>

<ul>
<li>新增輸入方案圖標顯示，可在語言欄中顯示，文件格式爲ico</li>
</ul>

<ul>
<li><code>schema/icon: string</code></li>
</ul>

<ul>
<li><code>schema/ascii_icon: string</code></li>
</ul>

<ul>
<li>新增選項，允許在光標位置獲取失敗時於窗口左上角繪製候選框（而不是桌面左上角）</li>
</ul>

<ul>
<li><code>style/layout/enhanced_position: bool</code></li>
</ul>

<ul>
<li>新增鼠標點擊截圖到剪貼板功能</li>
</ul>

<ul>
<li>新增選項，支持越長自動折行/換列顯示</li>
</ul>

<ul>
<li><code>style/layout/max_width: int</code></li>
</ul>

<ul>
<li><code>style/layout/max_height: int</code></li>
</ul>

<ul>
<li>支持方案內設定配色</li>
</ul>

<ul>
<li><code>style/color_scheme: string</code></li>
</ul>

<ul>
<li>支持多行内容顯示，\r, \n, \r\n均支持</li>
</ul>

<ul>
<li>支持方案內設定配色</li>
</ul>

<ul>
<li>繪製性能提升</li>
</ul>

<ul>
<li>composition 模式下新增下劃線顯示</li>
</ul>

<ul>
<li>隨二進制文件提供調試符號</li>
</ul>


<h4 id="bug">Bug 修復</h4>


<ul>
<li>轉義日文鍵盤中特殊按鍵</li>
</ul>

<ul>
<li>候選文字過長時崩潰</li>
</ul>

<ul>
<li>修復用戶目錄下無 <code>default.custom.yaml</code> 或 <code>weasel.custom.yaml</code> 時，設定窗口無法彈出的問題</li>
</ul>

<ul>
<li>方案中設定inline_preedit爲true時，部署後編碼末端出現異常符號</li>
</ul>

<ul>
<li>部分應用無法輸入文字的問題</li>
</ul>

<ul>
<li>修復部署時無顯示提示的問題</li>
</ul>

<ul>
<li>修復中文路徑相關問題</li>
</ul>

<ul>
<li>修復右鍵菜單打開程序目錄/用戶目錄時，資源管理器無響應的問題</li>
</ul>

<ul>
<li>修復部分內存訪問問題</li>
</ul>

<ul>
<li>修復操作系統 / WinGet 無法識別小狼毫版本號的問題</li>
</ul>

<ul>
<li>修復 composition 模式下光標位置不正常的問題</li>
</ul>

<ul>
<li>修復 Word 中小狼毫工作不正常的問題</li>
</ul>

<ul>
<li>若干開發環境配置問題修復</li>
</ul>


<h4 id="section">已知問題</h4>


<ul>
<li>部分應用仍存在輸入法無法輸入文字的問題</li>
</ul>

<ul>
<li>WeaselServer 仍可能發生崩潰</li>
</ul>

<ul>
<li>部分防病毒軟件可能誤報病毒</li>
</ul>


</body>
</html>
